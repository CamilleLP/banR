<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>R Client for the BAN API • banR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="R Client for the BAN API">
<meta property="og:description" content='A client for the "Base Adresses Nationale" (BAN) API, which allows to (batch)
    geocode and reverse-geocode French addresses. For more information about the BAN and its API, please see &lt;https://adresse.data.gouv.fr/api&gt;. '>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">banR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/geocode.html">Geocoding French adresses with BanR</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/joelgombin/banR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="an-r-client-for-the-ban-api">An R client for the BAN API<a class="anchor" aria-label="anchor" href="#an-r-client-for-the-ban-api"></a>
</h1></div>
<!-- badges: start -->
<p>The <code>banR</code> package is a light R client for the <a href="https://geo.api.gouv.fr/adresse" class="external-link">BAN API</a>. The <a href="https://adresse.data.gouv.fr/" class="external-link">Base Adresse Nationale (BAN)</a> is an open database of French adresses, produced by OpenStreetMap, La Poste, the IGN and Etalab.</p>
<p><code>banR</code> can be installed from Github (current version):</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org/reference/remote-reexports.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"joelgombin/banR"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>The CRAN version is out of date :</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"banR"</span><span class="op">)</span></code></pre></div>
<p><code>banR</code> allows to geocode lots of adresses in batch (the only hard limit is that, at the moment, the API only allows CSV files up to 50 MB). Please be gentle with the server though!</p>
<p><code>banR</code> is designed to be used in a data exploration workflow, with a syntax ‘à la <a href="http://tidyverse.org" class="external-link"><code>tidyverse</code></a>’:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://joelgombin.github.io/banR/" class="external-link">banR</a></span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"paris2012"</span><span class="op">)</span>

<span class="va">paris2012</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">100</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>adresse <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="va">numero</span>, <span class="va">voie</span>, <span class="va">nom</span><span class="op">)</span>,
         code_insee <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"751"</span>, <span class="va">arrondissement</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> 
  <span class="fu"><a href="reference/geocode_tbl.html">geocode_tbl</a></span><span class="op">(</span>adresse <span class="op">=</span> <span class="va">adresse</span>, code_insee <span class="op">=</span> <span class="va">code_insee</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Writing tempfile to.../tmp/Rtmp9YlNra/file147282c595535.csv</span>
<span class="co">#&gt; If file is larger than 50 MB, it must be splitted</span>
<span class="co">#&gt; Size is : 3 Kb</span>
<span class="co">#&gt; SuccessOKSuccess: (200) OK</span>
<span class="co">#&gt; Rows: 100</span>
<span class="co">#&gt; Columns: 25</span>
<span class="co">#&gt; $ arrondissement     &lt;chr&gt; "06", "06", "06", "06", "06", "06", "06", "06", "06…</span>
<span class="co">#&gt; $ bureau             &lt;chr&gt; "09", "09", "09", "09", "09", "09", "09", "09", "09…</span>
<span class="co">#&gt; $ numero             &lt;int&gt; 4, 5, 6, 7, 8, 11, 12, 13, 14, 16, 3, 4, 5, 6, 7, 8…</span>
<span class="co">#&gt; $ voie               &lt;chr&gt; "RUE DE L", "RUE DE L", "RUE DE L", "RUE DE L", "RU…</span>
<span class="co">#&gt; $ nom                &lt;chr&gt; "ABBAYE", "ABBAYE", "ABBAYE", "ABBAYE", "ABBAYE", "…</span>
<span class="co">#&gt; $ nb                 &lt;int&gt; 1, 1, 20, 2, 17, 2, 9, 15, 17, 8, 13, 6, 6, 3, 9, 1…</span>
<span class="co">#&gt; $ ID                 &lt;chr&gt; "0609", "0609", "0609", "0609", "0609", "0609", "06…</span>
<span class="co">#&gt; $ adresse            &lt;chr&gt; "4 RUE DE L ABBAYE", "5 RUE DE L ABBAYE", "6 RUE DE…</span>
<span class="co">#&gt; $ code_insee         &lt;chr&gt; "75106", "75106", "75106", "75106", "75106", "75106…</span>
<span class="co">#&gt; $ latitude           &lt;dbl&gt; 48.85405, 48.85407, 48.85414, 48.85410, 48.85425, 4…</span>
<span class="co">#&gt; $ longitude          &lt;dbl&gt; 2.335715, 2.335172, 2.335352, 2.335041, 2.334903, 2…</span>
<span class="co">#&gt; $ result_label       &lt;chr&gt; "4 Rue de l’Abbaye 75006 Paris", "5 Rue de l’Abbaye…</span>
<span class="co">#&gt; $ result_score       &lt;dbl&gt; 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.97, 0.9…</span>
<span class="co">#&gt; $ result_type        &lt;chr&gt; "housenumber", "housenumber", "housenumber", "house…</span>
<span class="co">#&gt; $ result_id          &lt;chr&gt; "75106_0002_00004", "75106_0002_00005", "75106_0002…</span>
<span class="co">#&gt; $ result_housenumber &lt;chr&gt; "4", "5", "6", "7", "8", "11", "12", "13", "14", "1…</span>
<span class="co">#&gt; $ result_name        &lt;chr&gt; "Rue de l’Abbaye", "Rue de l’Abbaye", "Rue de l’Abb…</span>
<span class="co">#&gt; $ result_street      &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span>
<span class="co">#&gt; $ result_postcode    &lt;chr&gt; "75006", "75006", "75006", "75006", "75006", "75006…</span>
<span class="co">#&gt; $ result_city        &lt;chr&gt; "Paris", "Paris", "Paris", "Paris", "Paris", "Paris…</span>
<span class="co">#&gt; $ result_context     &lt;chr&gt; "75, Paris, Île-de-France", "75, Paris, Île-de-Fran…</span>
<span class="co">#&gt; $ result_citycode    &lt;chr&gt; "75106", "75106", "75106", "75106", "75106", "75106…</span>
<span class="co">#&gt; $ result_oldcitycode &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span>
<span class="co">#&gt; $ result_oldcity     &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…</span>
<span class="co">#&gt; $ result_district    &lt;chr&gt; "Paris 6e Arrondissement", "Paris 6e Arrondissement…</span></code></pre></div>
<p>To know more about this package, please read the <a href="http://joelgombin.github.io/banR/articles/geocode.html" class="external-link">vignette</a> (<code><a href="articles/geocode.html">vignette("geocode")</a></code>)</p>
<p>Please report issues and suggestions to the <a href="https://github.com/joelgombin/banR/issues" class="external-link">issues tracker</a>.</p>
<div class="section level2">
<h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h2>
<ul>
<li>
<a href="https://github.com/atao/BAN-Geocoder" class="external-link">BAN-geocoder</a>, python wrapper for adresse.data.gouv.fr</li>
<li>
<a href="https://github.com/jessecambon/tidygeocoder" class="external-link">tidygeocoder</a>, r package similar to banR using other geocoding services such as US Census geocoder, Nominatim (OSM), Geocodio, and Location IQ.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=banR" class="external-link">View on CRAN</a></li>
<li><a href="http://github.com/joelgombin/banR/" class="external-link">Browse source code</a></li>
<li><a href="http://github.com/joelgombin/banR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing banR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Joel Gombin <br><small class="roles"> Maintainer, author </small>  </li>
<li>Paul-Antoine Chevalier <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/joelgombin/banR/actions" class="external-link"><img src="https://github.com/joelgombin/banR/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Joel Gombin, Paul-Antoine Chevalier.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
